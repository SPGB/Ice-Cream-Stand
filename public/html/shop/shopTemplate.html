<div ng-if="isVisible" class="shop--window"><h4 class="title">Bovine Boutique, {{activeTab}}<div ng-click="toggleShop(false)" class="message_close"><i class="fa fa-times"></i></div></h4><div class="shop_nab button_container"><div ng-repeat="tab in shopTabs" x-area="shop_tab_{{tab}}" x-type="shop" ng-bind="tab" ng-click="setTab(tab)" ng-class="{ 'active': activeTab == tab }" class="shop__tab"></div><input placeholder="Search" ng-model="query.title" class="shop__search"/></div><div class="clearfix"></div><div ng-show="activeTab == 'items'" class="shop_table align_center"><div ng-repeat="item in items | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/items/{{item.title}}.png" x-type="item" x-name="{{item.title}}/{{item.int || 0}}/{{item.str || 0}}/{{item.con || 0}}/{{item.rarity}}" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<br/><div x-cost="{{item.cost}}" x-item="{{item.title}}" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div></div></div></div><div ng-show="activeTab == 'skins'" class="shop_table align_center"><div ng-repeat="item in skins | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/skins/{{item.title | item_image}}.png" x-name="{{item.title}}" x-type="skin" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<br/><div x-cost="{{item.cost}}" x-item="{{item.title}}" ng-if="item.cost" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div><div ng-if="item.note" class="shop_button button button--gray">{{item.note}}</div><div ng-if="item.match-expertise" class="shop_button button button--gray">Requires level 15 expertise with {{item.match-expertise}}</div><div ng-if="item.match-item" class="shop_button button button--gray">Requires the item: {{item.match-item}}</div></div></div></div><div ng-show="activeTab == 'badges'" class="shop_table align_center"><div ng-repeat="item in badges | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/badges/{{item.badge}}.png" x-type="badge" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<br/><div x-cost="{{item.cost}}" x-item="{{item.title}}" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div></div></div></div><div ng-show="activeTab == 'flavour'" ng-controller="upgrades as upgrades" class="shop_table"><div ng-repeat="flavour in flavours_locked | orderBy:'cost' | limitTo:6" x-cost="{{flavour.cost}}" x-id="{{flavour._id}}" x-new="true" x-type="base" class="unlockable unlockable"><img ng-src="{{flavour.image}}" class="tooltip"/><div class="unlock_text">{{flavour.name}}<span class="cost">{{flavour.cost | number:0}}</span></div><button ng-click="purchase('flavour', flavour)">Unlock</button></div><p ng-if="flavours_locked.length === 0" class="empty">All flavours unlocked</p></div><div ng-show="activeTab == 'add-on'" class="shop_table"><div ng-repeat="addons in addons_locked | orderBy:'cost' | limitTo:6" x-cost="{{flavour.cost}}" x-id="{{flavour._id}}" x-new="true" x-type="base" class="unlockable unlockable"><img ng-src="{{addons.image}}" class="tooltip"/><div class="unlock_text">{{addons.name}}<span class="cost">{{addons.cost | number:0}}</span></div><button ng-click="purchase('addons', addons)">Unlock</button></div><p ng-if="addons_locked.length === 0" class="empty">All add-ons unlocked</p></div><div ng-show="activeTab == 'worker'" class="shop_table"><div ng-repeat="worker in workerTiers" id="unlock_cart" x-worker="{{worker}}" x-type="sales_cart" class="unlockable"><img ng-src="http://static.icecreamstand.ca/{{worker}}_thumb.png" x-type="sales_{{worker}}" class="tooltip"/><div class="unlock_text"><span class="lang">{{worker}}</span><span class="cost">{{get_cost(worker) | number_commas}}</span></div><div class="sale_level"></div><div class="shop__button__container"><button x-amount="1" class="worker_increment">+1</button><button x-amount="10" class="worker_increment">+10</button><button x-amount="1000" class="worker_increment lang">Max</button></div></div></div><div ng-show="activeTab == 'cone'" class="shop_table"><div ng-repeat="cone in cones | orderBy:'cost' | limitTo:3" x-cost="{{cone.cost}}" x-id="{{cone._id}}" x-new="true" x-type="base" class="unlockable unlockable"><img ng-src="http://static.icecreamstand.ca/cones/thumb/{{cone.name}}.png.gz" class="tooltip"/><div class="unlock_text">{{cone.name}}<span class="cost">{{cone.cost | number:0}}</span></div><button ng-click="purchase('cone', cone)">Unlock</button></div></div><div ng-show="activeTab == 'upgrade'" class="shop_table"><div ng-repeat="worker in upgrades" id="unlock_cart" x-worker="{{worker}}" x-type="sales_cart" class="unlockable"><img ng-src="http://static.icecreamstand.ca/{{worker}}_thumb.png" x-type="sales_{{worker}}" class="tooltip"/><div class="unlock_text"><span class="lang">{{worker}}</span><span class="cost">{{get_cost(user[worker], worker)}}</span></div><div class="sale_level"></div><div class="shop__button__container"><button x-amount="1" class="worker_increment">+1</button><button x-amount="10" class="worker_increment">+10</button><button x-amount="1000" class="worker_increment lang">Max</button></div></div></div><div class="shop_page_container"><div ng-click="shop_paginate(-1)" class="filter_prev button"><i class="fa fa-arrow-left"></i></div><div class="shop_page_container__current">Page {{currentPage + 1}}</div><div ng-click="shop_paginate(1)" class="filter_next button"><i class="fa fa-arrow-right"></i></div></div></div>