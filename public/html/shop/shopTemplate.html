<div ng-if="isVisible" class="shop--window"><h4 class="title">Bovine Boutique, {{activeTab}}<div ng-click="toggleShop(false)" class="message_close"><i class="fa fa-times"></i></div></h4><div class="shop_nab button_container"><div ng-repeat="tab in shopTabs" x-area="shop_tab_{{tab.title}}" x-type="shop" ng-bind="tab.title" ng-click="setTab(tab.title, tab.paged)" ng-class="{ 'active': activeTab == tab.title }" class="shop__tab"></div><input placeholder="Search" ng-model="query.title" class="shop__search"/></div><div class="clearfix"></div><div ng-show="activeTab == 'items'" class="shop_table align_center"><div ng-repeat="item in items | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/items/{{item.title}}.png" x-type="item" x-name="{{item.title}}/{{item.int || 0}}/{{item.str || 0}}/{{item.con || 0}}/{{item.rarity}}" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<br/><div x-cost="{{item.cost}}" x-item="{{item.title}}" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div></div></div></div><div ng-show="activeTab == 'skins'" class="shop_table align_center"><div ng-repeat="item in skins | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" ng-class="{'skin--unlocked': cow.skins_unlocked.indexOf(item.title) &gt; -1}" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/skins/{{item.title | item_image}}.png" x-name="{{item.title}}" x-type="skin" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<div ng-if="cow.skins_unlocked.indexOf(item.title) !== -1" class="shop__button__container"><div class="shop_button button button--gray">Unlocked!</div></div><div ng-if="cow.skins_unlocked.indexOf(item.title) === -1" class="shop__button__container"><div x-cost="{{item.cost}}" x-item="{{item.title}}" ng-if="item.cost" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div><div ng-if="item.note" ng-bind="item.note" class="shop_button button button--gray"></div><div ng-if="item.match-expertise" class="shop_button button button--gray">Requires level 15 expertise with a flavour</div><div ng-if="item.match-item" class="shop_button button button--gray">Requires an item</div></div></div></div></div><div ng-show="activeTab == 'badges'" class="shop_table align_center"><div ng-repeat="item in badges | startFrom:currentPage*pageSize | limitTo: pageSize | filter: query" class="card"><div class="card__image"><img ng-src="https://s3.amazonaws.com/icecreamstand.com/badges/{{item.badge}}.png" x-type="badge" class="tooltip inventory_thumb"/></div><div class="card__label">{{ item.title | item_name }}<br/><div x-cost="{{item.cost}}" x-item="{{item.title}}" class="shop_button button"><span ng-bind="item.cost | number_commas" class="money_icon is_white"></span></div></div></div></div><div ng-show="activeTab == 'flavour'" ng-controller="upgrades as upgrades" class="shop_table"><div ng-repeat="flavour in flavours_locked | orderBy:'cost' | limitTo:6" x-cost="{{flavour.cost}}" x-id="{{flavour._id}}" x-new="true" x-type="base" class="unlockable unlockable"><img ng-src="{{flavour.image}}" class="tooltip"/><div class="unlock_text">{{flavour.name}}<span class="cost">{{flavour.cost | number:0}}</span></div><button ng-click="purchase('flavour', flavour)">Unlock</button></div><p ng-if="flavours_locked.length === 0" class="empty">All flavours unlocked</p></div><div ng-show="activeTab == 'add-on'" class="shop_table"><div ng-repeat="addons in addons_locked | orderBy:'cost' | limitTo:6" x-cost="{{addons.cost}}" x-id="{{addons._id}}" x-new="true" x-type="addon" class="unlockable unlockable"><img ng-src="{{addons.image}}" class="tooltip"/><div class="unlock_text">{{addons.name}}<span class="cost">{{addons.cost | number:0}}</span></div><button ng-click="purchase('addon', addons)">Unlock</button></div><p ng-if="addons_locked.length === 0" class="empty">All add-ons unlocked</p></div><div ng-show="activeTab == 'worker'" class="shop_table"><div ng-repeat="worker in workerTiers" id="unlock_{{worker.title}}" x-worker="{{worker.title}}" x-type="sales_{{worker.title}}" ng-class="{ 'worker_locked' : !worker_requirements(worker.requirement) }" class="unlockable"><img ng-src="http://static.icecreamstand.ca/{{worker.title}}_thumb.png" x-type="sales_{{worker.title}}" class="tooltip"/><div class="unlock_text"><div ng-bind="worker.title" class="lang"></div><div ng-bind="get_cost(worker.title+'s')[0] | number_commas" class="cost"></div><div ng-bind="'x' + get_cost(worker.title+'s')[1] | number_commas" class="interval"></div></div><div ng-bind="get_level(worker.title) | number_commas" class="sale_level"></div><div class="shop__button__container"><button x-amount="1" ng-mouseover="worker_interval(1)" ng-click="worker_buy(worker.title, 1)" class="worker_increment">+1</button><button x-amount="10" ng-mouseover="worker_interval(10)" ng-click="worker_buy(worker.title, 10)" class="worker_increment">+10</button><button x-amount="1000" ng-mouseover="worker_interval(1000)" ng-click="worker_buy(worker.title, 1000)" class="worker_increment lang">Max</button></div></div></div><div ng-show="activeTab == 'cone'" class="shop_table"><div ng-repeat="cone in cones | orderBy:'cost'" x-cost="{{cone.cost}}" x-id="{{cone.name}}" x-new="true" x-type="cone" class="unlockable unlockable"><img ng-src="http://static.icecreamstand.ca/cones/thumb/{{cone.name}}.png.gz" class="tooltip"/><div class="unlock_text">{{cone.name}}<span class="cost">{{cone.cost | number:0}}</span></div><button ng-click="purchase('cone', cone)">Unlock</button></div></div><div ng-show="activeTab == 'upgrade'" class="shop_table"><div ng-repeat="worker in upgrades" id="unlock_cart" x-type="{{worker.title}}" class="unlockable"><img ng-src="{{worker.image}}" x-type="{{worker.title}}" ng-if="worker.image" class="tooltip"/><div class="unlock_text"><div ng-bind="worker.title" class="lang"></div><div ng-if="worker.title != 'prestige'" class="unlock__text__details"><div ng-bind="get_cost('upgrade_' + worker.title)[0] | number_commas" class="cost"></div><div ng-bind="'x' + get_cost('upgrade_' + worker.title)[1] | number_commas" class="interval"></div></div></div><div ng-bind="get_upgrade('upgrade_' + worker.title)" class="sale_level"></div><div ng-if="worker.isMultiUnlocks" class="shop__button__container"><button x-amount="1" ng-mouseover="worker_interval(1)" ng-click="worker_buy(worker.title, 1)" class="worker_increment">+1</button><button x-amount="10" ng-mouseover="worker_interval(10)" ng-click="worker_buy(worker.title, 10)" class="worker_increment">+10</button><button x-amount="1000" ng-mouseover="worker_interval(100)" ng-click="worker_buy(worker.title, 100)" class="worker_increment lang">Max</button></div><div ng-if="!worker.isMultiUnlocks" class="shop__button__container"><div class="button prestige_button lang">Unlock</div></div></div></div><div ng-show="isPaged" class="shop_page_container"><div ng-click="shop_paginate(-1)" class="filter_prev button"><i class="fa fa-arrow-left"></i></div><div class="shop_page_container__current">Page {{currentPage + 1}}</div><div ng-click="shop_paginate(1)" class="filter_next button"><i class="fa fa-arrow-right"></i></div></div></div>